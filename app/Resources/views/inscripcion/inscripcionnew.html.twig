
{% extends "layout/base-layout.html.twig" %}
{% block page_title %} Seguimiento Académico | {% endblock %}
{% block page_subtitle %}Inscripción{% endblock %}
{% block page_content %}

    <div class="box box-primary" style="width: 100%;">

        <div  style="width:90%; margin-top: 5%; margin-left: 5%; background-color:#F3F3F3; border-radius:5px " class="panel panel-default">

            <div class="col col-md-12" align="center" >
                <img style="width:80px;margin-top: 2%;margin-bottom: 2%" src="{{ asset('img/icons/inscripcion.png') }}"></img>
            </div>
            <div class="col col-md-12 " align="center" style="margin-top:-15px">
                <h2 class="col col-md-12" style="font-family: palatino header" >Inscripción por ciclo</h2>
                <h4 class="col col-md-12" style="color:grey; font-family: palatino body; margin-top: -3px;">Complete los campos requeridos:<span style="font-size: 25;color: red" >*</span></h4>
            </div>
            <hr>
            <div  class="container"  style="width: 80%; margin-top: 3%; margin-bottom: 3%">

                {{ form_start(form) }} 
                <div class="row">
                    <div class="col col-md-3">
                        <label for="form_lastname">Año Inscripción<span style="font-size: 25;color: red" >*</span></label>
                        {{ form_widget(form.anioinscripcion) }}
                        {{ form_errors(form.anioinscripcion) }}
                    </div>
                    <div class="col col-md-4">
                        <label for="form_lastname">Ciclo<span style="font-size: 25;color: red" >*</span></label>
                        {{ form_widget(form.numcicloinscripcion) }}
                        {{ form_errors(form.numcicloinscripcion) }}
                    </div>
                     <div class="col col-md-5" >
                        <label for="form_file">Comprobante Inscripción</label>
                        {{ form_widget(form.comprobante_file) }}
                        {{ form_errors(form.comprobante_file) }}
                    </div>

                </div>
                <br>
                <div class="row hidden">
                    <div class="col col-md-6" >
                        <label for="form_file">Comprobante de notas</label>
                        {{ form_widget(form.comprobante_file_notas) }}
                        {{ form_errors(form.comprobante_file_notas) }}
                    </div>

                   
{#                    <div class="col col-md-2" align='center'>
                        <label for="form_lastname">Estado<span style="font-size: 25;color: red" >*</span></label>
                        {{ form_widget(form.estadoinscripcion) }}
                        {{ form_errors(form.estadoinscripcion) }}
                    </div>#}

                </div>
                <hr>
                <div align="right" >
                    <button  class="btn btn-primary" type="button" id="addMateria">Materia <i class="fa fa-plus-circle"></i></button>
                </div>
                <br>
                <input type='text' id='contar' name='contar' class='hidden'/>
                <div class="table-responsive"  >

                    <table class="table table-striped" style="background-color:white">
                        <thead>
                            <tr>
                                <th scope="col" style="text-align:center">#</th>
                                <th scope="col" style="text-align:center">Materia</th>
                                <th scope="col" style="text-align:center">Inscripción</th>
                                <th scope="col" style="text-align:center">Acción</th>
                            </tr>
                        </thead>
                        <tbody id="contTbl">
                            <tr>
                                <td>1</td>
                                <td><!-- Text input-->
                                    <div class="form-group">
                                        <input id="nombremateria1" name="nombremateria1" type="text" placeholder="Nombre Materia" class="form-control input-md" required="">
                                    </div>
                                </td>
                                <td><div class="form-group">
                                        <input id="inscripcion1" name="inscripcion1" type="text" placeholder="# Inscripcion" class="form-control input-md" required="">
                                    </div></td>
                            
                                <td style="text-align:center"><button id="eliminar1" type="button" class="btn btn-warning">Eliminar</button></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><!-- Text input-->
                                    <div class="form-group">
                                        <input id="nombremateria2" name="nombremateria2" type="text" placeholder="Nombre Materia" class="form-control input-md" required="">
                                    </div>
                                </td>
                                <td><div class="form-group">
                                        <input id="inscripcion2" name="inscripcion2" type="text" placeholder="# Inscripcion" class="form-control input-md" required="">
                                    </div></td>
                            
                                <td style="text-align:center"><button id="eliminar1" type="button" class="btn btn-warning borrar">Eliminar</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col col-md-12" align="right">
                        <a href="{{path('inscripcion_index')}}" class="btn btn-danger btn-xl">Cancelar</a>
                        <input  class="btn btn-success btn-xl" id="enviar" type="submit"  value="Guardar" />
                    </div>
                </div>
                {{ form_end(form) }}

            </div>
        </div>
        <br>
        <br>
    </div>
{% endblock %}
{% block javascripts_inline %}
    <script>
        var i = 2;
       $(document).ready(function(){
           var i = 2;
           $("#contar").attr('value', i);
       });
        $("#addMateria").click(function () {
         $("#contar").attr('value', i);
        if (i < 6) {
        i = i + 1; 
        var newRow=`<tr>`;
        newRow+=` < tr >
                <td>` + i + `</td>
            <td><!-- Text input-->
            <div class="form-group">
            <input id="nombremateria` + i + `" name="nombremateria` + i + `" type="text" placeholder="Nombre Materia" class="form-control input-md" required="">
                </div>
                </td>
                <td><div class="form-group">
                <input id="inscripcion` + i + `" name="inscripcion` + i + `" type="text" placeholder="# Inscripcion" class="form-control input-md" required="">
            </div></td>

            <td style="text-align:center"><button id="eliminar` + i + `" type="button" class="btn btn-warning borrar">Eliminar</button></td>
                        
                        </tr>`;
             newRow+=`<tr>`;
             
        $("#contTbl").append(newRow);
                
                $("#contar").attr('value',i);
                 }else{
            $("#addMateria").attr('disabled'); 
        }
            });
            
            $(document).on('click', '.borrar', function (event) {
    event.preventDefault();
    $(this).closest('tr').remove();
    $("#contar").attr('value', $("#contar").val()-1);
    i=i-1;
});
       
    </script>
{% endblock %}